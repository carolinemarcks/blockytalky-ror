
<link rel="stylesheet" type="text/css" href="/static/style.css">
  <script type="text/javascript" src="/static/_soy/soyutils.js"></script>
  <script type="text/javascript" src="/static/common.js"></script>
  <script type="text/javascript" src="/static/code.js"></script>
  <script type="text/javascript" src="/static/storage.js"></script>

<script type="text/javascript">
    var hasInit = false; 

 
  function doBlocklyInitialize(){
        if(hasInit){return;}
        hasInit = true;
    
        $('#blocklyDiv').html(codepage.start({},null,
            {langSrc: BlocklyApps.LANGUAGES[BlocklyApps.LANG][2]}));

        
        }
    function printblockly2(){
        var el = document.getElementById("content_blocks");
        el.contentWindow.printblockly()
     
    }
    function renderBlocksOuter(){
       <% if(@code.codetext) %>
            var code =  <%= ("'" + @code.codetext + "'").html_safe %> ;
            var el = document.getElementById("content_blocks");
            el.contentWindow.renderBlocksInner(code);
        <% end %>


    }
        
    $(document).ready(doBlocklyInitialize);
</script>

