"use strict";Blockly.Python=Blockly.Generator.get("Python"),Blockly.Python.addReservedWords("and,as,assert,break,class,continue,def,del,elif,else,except,exec,finally,for,from,global,if,import,in,is,lambda,not,or,pass,print,raise,return,try,while,with,yield,True,False,None,NotImplemented,Ellipsis,__debug__,quit,exit,copyright,license,credits,abs,divmod,input,open,staticmethod,all,enumerate,int,ord,str,any,eval,isinstance,pow,sum,basestring,execfile,issubclass,print,super,bin,file,iter,property,tuple,bool,filter,len,range,type,bytearray,float,list,raw_input,unichr,callable,format,locals,reduce,unicode,chr,frozenset,long,reload,vars,classmethod,getattr,map,repr,xrange,cmp,globals,max,reversed,zip,compile,hasattr,memoryview,round,__import__,complex,hash,min,set,apply,delattr,help,next,setattr,buffer,dict,hex,object,slice,coerce,dir,id,oct,sorted,intern"),Blockly.Python.ORDER_ATOMIC=0,Blockly.Python.ORDER_COLLECTION=1,Blockly.Python.ORDER_STRING_CONVERSION=1,Blockly.Python.ORDER_MEMBER=2,Blockly.Python.ORDER_FUNCTION_CALL=2,Blockly.Python.ORDER_EXPONENTIATION=3,Blockly.Python.ORDER_UNARY_SIGN=4,Blockly.Python.ORDER_BITWISE_NOT=4,Blockly.Python.ORDER_MULTIPLICATIVE=5,Blockly.Python.ORDER_ADDITIVE=6,Blockly.Python.ORDER_BITWISE_SHIFT=7,Blockly.Python.ORDER_BITWISE_AND=8,Blockly.Python.ORDER_BITWISE_XOR=9,Blockly.Python.ORDER_BITWISE_OR=10,Blockly.Python.ORDER_RELATIONAL=11,Blockly.Python.ORDER_LOGICAL_NOT=12,Blockly.Python.ORDER_LOGICAL_AND=13,Blockly.Python.ORDER_LOGICAL_OR=14,Blockly.Python.ORDER_CONDITIONAL=15,Blockly.Python.ORDER_LAMBDA=16,Blockly.Python.ORDER_NONE=99,Blockly.Python.INFINITE_LOOP_TRAP=null,Blockly.Python.FUNCTION_NAME_PLACEHOLDER_="{{{}}}",Blockly.Python.FUNCTION_NAME_PLACEHOLDER_REGEXP_=RegExp(Blockly.Python.FUNCTION_NAME_PLACEHOLDER_,"g"),Blockly.Python.init=function(){if(Blockly.Python.definitions_={},Blockly.Python.functionNames_={},Blockly.Variables){Blockly.Python.variableDB_?Blockly.Python.variableDB_.reset():Blockly.Python.variableDB_=new Blockly.Names(Blockly.Python.RESERVED_WORDS_);for(var t=[],o=Blockly.Variables.allVariables(),e=0;e<o.length;e++)t[e]=Blockly.Python.variableDB_.getName(o[e],Blockly.Variables.NAME_TYPE)+" = None";Blockly.Python.definitions_.variables=t.join("\n")}},Blockly.Python.finish=function(t){var o,e=[],l=[];for(o in Blockly.Python.definitions_){var n=Blockly.Python.definitions_[o];n.match(/^(from\s+\S+\s+)?import\s+\S+/)?e.push(n):l.push(n)}return(e.join("\n")+"\n\n"+l.join("\n\n")).replace(/\n\n+/g,"\n\n").replace(/\n*$/,"\n\n\n")+t},Blockly.Python.scrubNakedValue=function(t){return t+"\n"},Blockly.Python.quote_=function(t){return t=t.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/\%/g,"\\%").replace(/'/g,"\\'"),"'"+t+"'"},Blockly.Python.scrub_=function(t,o){if(null===o)return"";var e="";if(!t.outputConnection||!t.outputConnection.targetConnection){var l=t.getCommentText();l&&(e+=Blockly.Generator.prefixLines(l,"# ")+"\n");for(var n=0;n<t.inputList.length;n++)t.inputList[n].type==Blockly.INPUT_VALUE&&(l=t.inputList[n].connection.targetBlock())&&(l=Blockly.Generator.allNestedComments(l))&&(e+=Blockly.Generator.prefixLines(l,"# "))}return n=t.nextConnection&&t.nextConnection.targetBlock(),n=this.blockToCode(n),e+o+n},Blockly.Python.provideFunction_=function(t,o){if(!Blockly.Python.definitions_[t]){var e=Blockly.Python.variableDB_.getDistinctName(t,Blockly.Generator.NAME_TYPE);Blockly.Python.functionNames_[t]=e,Blockly.Python.definitions_[t]=o.join("\n").replace(Blockly.Python.FUNCTION_NAME_PLACEHOLDER_REGEXP_,e)}return Blockly.Python.functionNames_[t]},Blockly.Language||(Blockly.Language={});var prefix="message.getContent()";Blockly.Language.motor_set={category:"Motors",helpUrl:"http://www.google.com",init:function(){this.setColour(300),this.appendDummyInput("").appendTitle("Set Motor:"),this.appendDummyInput("").appendTitle("MotorNumber").appendTitle(new Blockly.FieldDropdown([["1","1"],["2","2"],["3","3"],["All","All"]]),"motor_num"),this.appendDummyInput("").appendTitle("MotorPower"),this.appendValueInput("motor_power").setCheck("Number"),this.setInputsInline(!0),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip("Motor 1-3, Power -100 to 100")}},Blockly.Language.motor_get_encoder={category:"Motors",helpUrl:"",init:function(){this.setColour(300),this.appendDummyInput("").appendTitle("Get Encoder:"),this.appendDummyInput("").appendTitle("MotorNumber").appendTitle(new Blockly.FieldDropdown([["1","1"],["2","2"],["3","3"]]),"enc"),this.setInputsInline(!0),this.setOutput(!0,"Number"),this.setTooltip("Returns value of motor encoder")}},Blockly.Language.motor_all_stop={category:"Motors",helpUrl:"http://www.google.com",init:function(){this.setColour(300),this.appendDummyInput().appendTitle("All stop"),this.setInputsInline(!0),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip("Stop all motors")}},Blockly.Language.sensor_light={category:"Sensors",helpUrl:"",init:function(){this.setColour(300),this.appendDummyInput("").appendTitle("Light Sensor Value:"),this.appendDummyInput("").appendTitle("PortNumber").appendTitle(new Blockly.FieldDropdown([["1","1"],["2","2"],["3","3"],["4","4"]]),"light"),this.setInputsInline(!0),this.setOutput(!0,"Number"),this.setTooltip("Returns value of light sensor 0-255")}},Blockly.Language.sensor_touch={category:"Sensors",helpUrl:"",init:function(){this.setColour(300),this.appendDummyInput("").appendTitle("Touch Sensor Value:"),this.appendDummyInput("").appendTitle("PortNumber").appendTitle(new Blockly.FieldDropdown([["1","1"],["2","2"],["3","3"],["4","4"]]),"touch"),this.setInputsInline(!0),this.setOutput(!0,"Boolean"),this.setTooltip("True if pressed, false if not")}},Blockly.Language.led_set={category:"LED",helpUrl:"",init:function(){this.setColour(300),this.appendDummyInput("").appendTitle("Set LEDs:"),this.appendDummyInput("").appendTitle("LED1").appendTitle(new Blockly.FieldDropdown([["On","On"],["Off","Off"]]),"led1"),this.appendDummyInput("").appendTitle("LED2").appendTitle(new Blockly.FieldDropdown([["On","On"],["Off","Off"]]),"led2"),this.setInputsInline(!0),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip("Set LEDs to on or off")}},Blockly.Language.time_sleep={category:"Time",helpUrl:"",init:function(){this.setColour(300),this.appendDummyInput("").appendTitle("Wait for").appendTitle(new Blockly.FieldTextInput("1000",Blockly.Language.math_number.validator),"time_sleep"),this.appendDummyInput("").appendTitle("ms"),this.setInputsInline(!0),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip("Pause for ___ milliseconds")}},Blockly.Language.print_print={category:"Print",helpUrl:"",init:function(){this.setColour(300),this.appendDummyInput("").appendTitle("Print: "),this.appendValueInput("to_print"),this.setInputsInline(!0),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip("Prints to terminal on Pi")}},Blockly.Python=Blockly.Generator.get("Python"),Blockly.Python.motor_set=function(){var t,o=Blockly.Python.valueToCode(this,"motor_power",Blockly.Python.ORDER_NONE),e=this.getTitleValue("motor_num");return"All"==e?t='toSend = Message(self.hostname, None, "HwCmd", Message.createImage(motor1='+o+", motor2="+o+", motor3="+o+"))\n":"1"==e?t='toSend = Message(self.hostname, None, "HwCmd", Message.createImage(motor1='+o+"))\n":"2"==e?t='toSend = Message(self.hostname, None, "HwCmd", Message.createImage(motor2='+o+"))\n":"3"==e&&(t='toSend = Message(self.hostname, None, "HwCmd", Message.createImage(motor3='+o+"))\n"),t+"ws.send(Message.encode(toSend))\n"},Blockly.Python.motor_all_stop=function(){return'toSend= Message(self.hostname, None, "HwCmd", Message.createImage(motor1=0, motor2=0, motor3=0))\nws.send(Message.encode(toSend))\n'},Blockly.Python.motor_get_encoder=function(){var t=this.getTitleValue("enc");return['self.robot["encoders"]['+(t-1)+"]",Blockly.Python.ORDER_ATOMIC]},Blockly.Python.sensor_light=function(){var t=this.getTitleValue("light");return['self.robot["sensors"]['+(t-1)+"]",Blockly.Python.ORDER_ATOMIC]},Blockly.Python.sensor_touch=function(){var t=this.getTitleValue("touch");return["self.touchSensor("+(t-1)+")",Blockly.Python.ORDER_ATOMIC]},Blockly.Python.led_set=function(){var t,o;return t="On"==this.getTitleValue("led1")?1:0,o="On"==this.getTitleValue("led2")?1:0,code='toSend = Message(self.hostname, None, "HwCmd", Message.createImage(led1='+t+", led2="+o+"))\nws.send(Message.encode(toSend))\n"},Blockly.Python.time_sleep=function(){var t=parseInt(this.getTitleValue("time_sleep"));return"time.sleep("+t/1e3+")\n"},Blockly.Python.print_print=function(){return"print "+Blockly.Python.valueToCode(this,"to_print",Blockly.Python.ORDER_NONE)+"\n"},Blockly.Python.logic={},Blockly.Python.controls_if=function(){for(var t=0,o=Blockly.Python.valueToCode(this,"IF"+t,Blockly.Python.ORDER_NONE)||"False",e=Blockly.Python.statementToCode(this,"DO"+t)||"  pass\n",l="if "+o+":\n"+e,t=1;t<=this.elseifCount_;t++)o=Blockly.Python.valueToCode(this,"IF"+t,Blockly.Python.ORDER_NONE)||"False",e=Blockly.Python.statementToCode(this,"DO"+t)||"  pass\n",l+="elif "+o+":\n"+e;return this.elseCount_&&(e=Blockly.Python.statementToCode(this,"ELSE")||"  pass\n",l+="else:\n"+e),l},Blockly.Python.logic_compare=function(){var t=this.getTitleValue("OP"),t=Blockly.Python.logic_compare.OPERATORS[t],o=Blockly.Python.ORDER_RELATIONAL,e=Blockly.Python.valueToCode(this,"A",o)||"0",l=Blockly.Python.valueToCode(this,"B",o)||"0";return[e+" "+t+" "+l,o]},Blockly.Python.logic_compare.OPERATORS={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="},Blockly.Python.logic_operation=function(){var t="AND"==this.getTitleValue("OP")?"and":"or",o="and"==t?Blockly.Python.ORDER_LOGICAL_AND:Blockly.Python.ORDER_LOGICAL_OR,e=Blockly.Python.valueToCode(this,"A",o)||"False",l=Blockly.Python.valueToCode(this,"B",o)||"False";return[e+" "+t+" "+l,o]},Blockly.Python.logic_negate=function(){return["not "+(Blockly.Python.valueToCode(this,"BOOL",Blockly.Python.ORDER_LOGICAL_NOT)||"False"),Blockly.Python.ORDER_LOGICAL_NOT]},Blockly.Python.logic_boolean=function(){return["TRUE"==this.getTitleValue("BOOL")?"True":"False",Blockly.Python.ORDER_ATOMIC]},Blockly.Python.logic_null=function(){return["None",Blockly.Python.ORDER_ATOMIC]},Blockly.Python.logic_ternary=function(){var t=Blockly.Python.valueToCode(this,"IF",Blockly.Python.ORDER_CONDITIONAL)||"False",o=Blockly.Python.valueToCode(this,"THEN",Blockly.Python.ORDER_CONDITIONAL)||"None",e=Blockly.Python.valueToCode(this,"ELSE",Blockly.Python.ORDER_CONDITIONAL)||"None";return[o+" if "+t+" else "+e,Blockly.Python.ORDER_CONDITIONAL]},Blockly.Language||(Blockly.Language={}),Blockly.Language.facebook_msg={category:"Facebook",helpUrl:"",init:function(){this.setColour(200),this.appendDummyInput("").appendTitle("Facebook Message"),this.setOutput(!0,"String"),this.setInputsInline(!0),this.setPreviousStatement(!1),this.setNextStatement(!1),this.setTooltip("get facebook message")}},Blockly.Language.facebook_poke={category:"Facebook",helpUrl:"http://www.google.com",init:function(){this.setColour(200),this.appendDummyInput("").appendTitle("Facebook Poke:"),this.setInputsInline(!0),this.setOutput(!0),this.setPreviousStatement(!1),this.setNextStatement(!1),this.setTooltip("Facebook Poke")}},Blockly.Language.messaging_tell={category:"Messaging",helpUrl:"http://www.google.com",init:function(){this.setColour(200),this.appendDummyInput("").appendTitle("Tell:"),this.appendDummyInput("").appendTitle(new Blockly.FieldTextInput("mystique"),"target"),this.appendDummyInput("").appendTitle(" ").appendTitle(new Blockly.FieldTextInput("go"),"command"),this.setInputsInline(!0),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip("tell a robot to do something")}},Blockly.Language.messaging_source={category:"Messaging",helpUrl:"http://www.google.com",init:function(){this.setColour(200),this.appendDummyInput("").appendTitle("Message From:"),this.appendDummyInput("").appendTitle(new Blockly.FieldTextInput("mystique"),"src"),this.setInputsInline(!0),this.setOutput(!0,"Boolean"),this.setPreviousStatement(!1),this.setNextStatement(!1),this.setTooltip("Message From")}},Blockly.Language.messaging_content={category:"Messaging",helpUrl:"http://www.google.com",init:function(){this.setColour(200),this.appendDummyInput("").appendTitle("Message that says:"),this.appendDummyInput("").appendTitle(new Blockly.FieldTextInput("go"),"msg"),this.setInputsInline(!0),this.setOutput(!0,"Boolean"),this.setPreviousStatement(!1),this.setNextStatement(!1),this.setTooltip("Content of message")}},Blockly.Python=Blockly.Generator.get("Python"),Blockly.Python.facebook_msg=function(){return"facebook message code\n"},Blockly.Python.facebook_poke=function(){return"facebook poke code\n"},Blockly.Python.messaging_tell=function(){var t=this.getTitleValue("target"),o=this.getTitleValue("command");return'toSend = Message(self.hostname, "'+t+'", "Message", "'+o+'")\nws.send(Message.encode(toSend))\n'},Blockly.Python.messaging_source=function(){return['self.checkSource("'+this.getTitleValue("src")+'")',Blockly.Python.ORDER_ATOMIC]},Blockly.Python.messaging_content=function(){return['self.checkContent("'+this.getTitleValue("msg")+'")',Blockly.Python.ORDER_ATOMIC]},Blockly.Python.colour={},Blockly.Python.colour_picker=function(){return["'"+this.getTitleValue("COLOUR")+"'",Blockly.Python.ORDER_ATOMIC]},Blockly.Python.colour_random=function(){return Blockly.Python.definitions_.import_random="import random",["'#%06x' % random.randint(0, 2**24 - 1)",Blockly.Python.ORDER_FUNCTION_CALL]},Blockly.Python.colour_rgb=function(){var t=Blockly.Python.provideFunction_("colour_rgb",["def "+Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(r, g, b):","  r = round(min(100, max(0, r)) * 2.55)","  g = round(min(100, max(0, g)) * 2.55)","  b = round(min(100, max(0, b)) * 2.55)","  return '#%02x%02x%02x' % (r, g, b)"]),o=Blockly.Python.valueToCode(this,"RED",Blockly.Python.ORDER_NONE)||0,e=Blockly.Python.valueToCode(this,"GREEN",Blockly.Python.ORDER_NONE)||0,l=Blockly.Python.valueToCode(this,"BLUE",Blockly.Python.ORDER_NONE)||0;return[t+"("+o+", "+e+", "+l+")",Blockly.Python.ORDER_FUNCTION_CALL]},Blockly.Python.colour_blend=function(){var t=Blockly.Python.provideFunction_("colour_blend",["def "+Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(colour1, colour2, ratio):","  r1, r2 = int(colour1[1:3], 16), int(colour2[1:3], 16)","  g1, g2 = int(colour1[3:5], 16), int(colour2[3:5], 16)","  b1, b2 = int(colour1[5:7], 16), int(colour2[5:7], 16)","  ratio = min(1, max(0, ratio))","  r = round(r1 * (1 - ratio) + r2 * ratio)","  g = round(g1 * (1 - ratio) + g2 * ratio)","  b = round(b1 * (1 - ratio) + b2 * ratio)","  return '#%02x%02x%02x' % (r, g, b)"]),o=Blockly.Python.valueToCode(this,"COLOUR1",Blockly.Python.ORDER_NONE)||"'#000000'",e=Blockly.Python.valueToCode(this,"COLOUR2",Blockly.Python.ORDER_NONE)||"'#000000'",l=Blockly.Python.valueToCode(this,"RATIO",Blockly.Python.ORDER_NONE)||0;return[t+"("+o+", "+e+", "+l+")",Blockly.Python.ORDER_FUNCTION_CALL]},Blockly.Python.control={},Blockly.Python.controls_repeat=function(){var t=parseInt(this.getTitleValue("TIMES"),10),o=Blockly.Python.statementToCode(this,"DO")||"  pass\n";return Blockly.Python.INFINITE_LOOP_TRAP&&(o=Blockly.Python.INFINITE_LOOP_TRAP.replace(/%1/g,"'"+this.id+"'")+o),"for "+Blockly.Python.variableDB_.getDistinctName("count",Blockly.Variables.NAME_TYPE)+" in range("+t+"):\n"+o},Blockly.Python.controls_repeat_ext=function(){var t=Blockly.Python.valueToCode(this,"TIMES",Blockly.Python.ORDER_NONE)||"0",t=Blockly.isNumber(t)?parseInt(t,10):"int("+t+")",o=Blockly.Python.statementToCode(this,"DO")||"  pass\n";return Blockly.Python.INFINITE_LOOP_TRAP&&(o=Blockly.Python.INFINITE_LOOP_TRAP.replace(/%1/g,"'"+this.id+"'")+o),"for "+Blockly.Python.variableDB_.getDistinctName("count",Blockly.Variables.NAME_TYPE)+" in range("+t+"):\n"+o},Blockly.Python.controls_whileUntil=function(){var t="UNTIL"==this.getTitleValue("MODE"),t=Blockly.Python.valueToCode(this,"BOOL",t?Blockly.Python.ORDER_LOGICAL_NOT:Blockly.Python.ORDER_NONE)||"False",o=Blockly.Python.statementToCode(this,"DO")||"  pass\n";return Blockly.Python.INFINITE_LOOP_TRAP&&(o=Blockly.Python.INFINITE_LOOP_TRAP.replace(/%1/g,'"'+this.id+'"')+o),"UNTIL"==this.getTitleValue("MODE")&&(t.match(/^\w+$/)||(t="("+t+")"),t="not "+t),"while "+t+":\n"+o},Blockly.Python.controls_for=function(){var t=Blockly.Python.variableDB_.getName(this.getTitleValue("VAR"),Blockly.Variables.NAME_TYPE),o=Blockly.Python.valueToCode(this,"FROM",Blockly.Python.ORDER_NONE)||"0",e=Blockly.Python.valueToCode(this,"TO",Blockly.Python.ORDER_NONE)||"0",l=Blockly.Python.valueToCode(this,"BY",Blockly.Python.ORDER_NONE)||"1",n=Blockly.Python.statementToCode(this,"DO")||"  pass\n";Blockly.Python.INFINITE_LOOP_TRAP&&(n=Blockly.Python.INFINITE_LOOP_TRAP.replace(/%1/g,'"'+this.id+'"')+n);var i,y="";i=function(){return Blockly.Python.provideFunction_("upRange",["def "+Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(start, stop, step):","  while start <= stop:","    yield start","    start += abs(step)"])};var r=function(){return Blockly.Python.provideFunction_("downRange",["def "+Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(start, stop, step):","  while start >= stop:","    yield start","    start -= abs(step)"])};if(Blockly.isNumber(o)&&Blockly.isNumber(e)&&Blockly.isNumber(l))o=parseFloat(o),e=parseFloat(e),l=Math.abs(parseFloat(l)),0===o%1&&0===e%1&&0===l%1?(e>=o?(e++,i=0==o&&1==l?e:o+", "+e,1!=l&&(i+=", "+l)):(e--,i=o+", "+e+", -"+l),i="range("+i+")"):(i=e>o?i():r(),i+="("+o+", "+e+", "+l+")");else{var a=function(o,e){if(Blockly.isNumber(o))o=parseFloat(o);else if(o.match(/^\w+$/))o="float("+o+")";else{var l=Blockly.Python.variableDB_.getDistinctName(t+e,Blockly.Variables.NAME_TYPE);y+=l+" = float("+o+")\n",o=l}return o},o=a(o,"_start"),e=a(e,"_end");a(l,"_inc"),i="number"==typeof o&&"number"==typeof e?e>o?i(o,e,l):r(o,e,l):"("+o+" <= "+e+") and "+i()+"("+o+", "+e+", "+l+") or "+r()+"("+o+", "+e+", "+l+")"}return y+="for "+t+" in "+i+":\n"+n},Blockly.Python.controls_forEach=function(){var t=Blockly.Python.variableDB_.getName(this.getTitleValue("VAR"),Blockly.Variables.NAME_TYPE),o=Blockly.Python.valueToCode(this,"LIST",Blockly.Python.ORDER_RELATIONAL)||"[]",e=Blockly.Python.statementToCode(this,"DO")||"  pass\n";return Blockly.Python.INFINITE_LOOP_TRAP&&(e=Blockly.Python.INFINITE_LOOP_TRAP.replace(/%1/g,'"'+this.id+'"')+e),"for "+t+" in "+o+":\n"+e},Blockly.Python.controls_flow_statements=function(){switch(this.getTitleValue("FLOW")){case"BREAK":return"break\n";case"CONTINUE":return"continue\n"}throw"Unknown flow statement."},Blockly.Python.procedures={},Blockly.Python.procedures_defreturn=function(){for(var t=Blockly.Variables.allVariables(this),o=t.length-1;o>=0;o--){var e=t[o];-1==this.arguments_.indexOf(e)?t[o]=Blockly.Python.variableDB_.getName(e,Blockly.Variables.NAME_TYPE):t.splice(o,1)}t=t.length?"  global "+t.join(", ")+"\n":"",o=Blockly.Python.variableDB_.getName(this.getTitleValue("NAME"),Blockly.Procedures.NAME_TYPE),e=Blockly.Python.statementToCode(this,"STACK"),Blockly.Python.INFINITE_LOOP_TRAP&&(e=Blockly.Python.INFINITE_LOOP_TRAP.replace(/%1/g,'"'+this.id+'"')+e);var l=Blockly.Python.valueToCode(this,"RETURN",Blockly.Python.ORDER_NONE)||"";l?l="  return "+l+"\n":e||(e="  pass");for(var n=[],i=0;i<this.arguments_.length;i++)n[i]=Blockly.Python.variableDB_.getName(this.arguments_[i],Blockly.Variables.NAME_TYPE);return t="def "+o+"("+n.join(", ")+"):\n"+t+e+l,t=Blockly.Python.scrub_(this,t),Blockly.Python.definitions_[o]=t,null},Blockly.Python.procedures_defnoreturn=Blockly.Python.procedures_defreturn,Blockly.Python.procedures_callreturn=function(){for(var t=Blockly.Python.variableDB_.getName(this.getTitleValue("NAME"),Blockly.Procedures.NAME_TYPE),o=[],e=0;e<this.arguments_.length;e++)o[e]=Blockly.Python.valueToCode(this,"ARG"+e,Blockly.Python.ORDER_NONE)||"None";return[t+"("+o.join(", ")+")",Blockly.Python.ORDER_FUNCTION_CALL]},Blockly.Python.procedures_callnoreturn=function(){for(var t=Blockly.Python.variableDB_.getName(this.getTitleValue("NAME"),Blockly.Procedures.NAME_TYPE),o=[],e=0;e<this.arguments_.length;e++)o[e]=Blockly.Python.valueToCode(this,"ARG"+e,Blockly.Python.ORDER_NONE)||"None";return t+"("+o.join(", ")+")\n"},Blockly.Python.procedures_ifreturn=function(){var t="if "+(Blockly.Python.valueToCode(this,"CONDITION",Blockly.Python.ORDER_NONE)||"False")+":\n";if(this.hasReturnValue_)var o=Blockly.Python.valueToCode(this,"VALUE",Blockly.Python.ORDER_NONE)||"None",t=t+("  return "+o+"\n");else t+="  return\n";return t},Blockly.Python.text={},Blockly.Python.text=function(){return[Blockly.Python.quote_(this.getTitleValue("TEXT")),Blockly.Python.ORDER_ATOMIC]},Blockly.Python.text_join=function(){var t;if(0==this.itemCount_)return["''",Blockly.Python.ORDER_ATOMIC];if(1==this.itemCount_)return t=Blockly.Python.valueToCode(this,"ADD0",Blockly.Python.ORDER_NONE)||"''",["str("+t+")",Blockly.Python.ORDER_FUNCTION_CALL];if(2==this.itemCount_){t=Blockly.Python.valueToCode(this,"ADD0",Blockly.Python.ORDER_NONE)||"''";var o=Blockly.Python.valueToCode(this,"ADD1",Blockly.Python.ORDER_NONE)||"''";return["str("+t+") + str("+o+")",Blockly.Python.ORDER_UNARY_SIGN]}for(t=[],o=0;o<this.itemCount_;o++)t[o]=Blockly.Python.valueToCode(this,"ADD"+o,Blockly.Python.ORDER_NONE)||"''";return o=Blockly.Python.variableDB_.getDistinctName("temp_value",Blockly.Variables.NAME_TYPE),t="''.join([str("+o+") for "+o+" in ["+t.join(", ")+"]])",[t,Blockly.Python.ORDER_FUNCTION_CALL]},Blockly.Python.text_append=function(){var t=Blockly.Python.variableDB_.getName(this.getTitleValue("VAR"),Blockly.Variables.NAME_TYPE),o=Blockly.Python.valueToCode(this,"TEXT",Blockly.Python.ORDER_NONE)||"''";return t+" = str("+t+") + str("+o+")\n"},Blockly.Python.text_length=function(){return["len("+(Blockly.Python.valueToCode(this,"VALUE",Blockly.Python.ORDER_NONE)||"''")+")",Blockly.Python.ORDER_FUNCTION_CALL]},Blockly.Python.text_isEmpty=function(){return["not len("+(Blockly.Python.valueToCode(this,"VALUE",Blockly.Python.ORDER_NONE)||"''")+")",Blockly.Python.ORDER_LOGICAL_NOT]},Blockly.Python.text_indexOf=function(){var t="FIRST"==this.getTitleValue("END")?"find":"rfind",o=Blockly.Python.valueToCode(this,"FIND",Blockly.Python.ORDER_NONE)||"''";return[(Blockly.Python.valueToCode(this,"VALUE",Blockly.Python.ORDER_MEMBER)||"''")+"."+t+"("+o+") + 1",Blockly.Python.ORDER_MEMBER]},Blockly.Python.text_charAt=function(){var t=this.getTitleValue("WHERE")||"FROM_START",o=Blockly.Python.valueToCode(this,"AT",Blockly.Python.ORDER_UNARY_SIGN)||"1",e=Blockly.Python.valueToCode(this,"VALUE",Blockly.Python.ORDER_MEMBER)||"''";switch(t){case"FIRST":return[e+"[0]",Blockly.Python.ORDER_MEMBER];case"LAST":return[e+"[-1]",Blockly.Python.ORDER_MEMBER];case"FROM_START":return o=Blockly.isNumber(o)?parseInt(o,10)-1:"int("+o+" - 1)",[e+"["+o+"]",Blockly.Python.ORDER_MEMBER];case"FROM_END":return[e+"[-"+o+"]",Blockly.Python.ORDER_MEMBER];case"RANDOM":return Blockly.Python.definitions_.import_random="import random",t=Blockly.Python.provideFunction_("text_random_letter",["def "+Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(text):","  x = int(random.random() * len(text))","  return text[x];"])+"("+e+")",[t,Blockly.Python.ORDER_FUNCTION_CALL]}throw"Unhandled option (text_charAt)."},Blockly.Python.text_getSubstring=function(){var t=Blockly.Python.valueToCode(this,"STRING",Blockly.Python.ORDER_MEMBER)||"''",o=this.getTitleValue("WHERE1"),e=this.getTitleValue("WHERE2"),l=Blockly.Python.valueToCode(this,"AT1",Blockly.Python.ORDER_ADDITIVE)||"1",n=Blockly.Python.valueToCode(this,"AT2",Blockly.Python.ORDER_ADDITIVE)||"1";return"FIRST"==o||"FROM_START"==o&&"1"==l?l="":"FROM_START"==o?l=Blockly.isNumber(l)?parseInt(l,10)-1:"int("+l+" - 1)":"FROM_END"==o&&(l=Blockly.isNumber(l)?-parseInt(l,10):"-int("+l+")"),"LAST"==e||"FROM_END"==e&&"1"==n?n="":"FROM_START"==o?n=Blockly.isNumber(n)?parseInt(n,10):"int("+n+")":"FROM_END"==o&&(Blockly.isNumber(n)?(n=1-parseInt(n,10),0==n&&(n="")):(Blockly.Python.definitions_.import_sys="import sys",n="int(1 - "+n+") or sys.maxsize")),[t+"["+l+" : "+n+"]",Blockly.Python.ORDER_MEMBER]},Blockly.Python.text_changeCase=function(){var t=this.getTitleValue("CASE"),t=Blockly.Python.text_changeCase.OPERATORS[t];return[(Blockly.Python.valueToCode(this,"TEXT",Blockly.Python.ORDER_MEMBER)||"''")+t,Blockly.Python.ORDER_MEMBER]},Blockly.Python.text_changeCase.OPERATORS={UPPERCASE:".upper()",LOWERCASE:".lower()",TITLECASE:".title()"},Blockly.Python.text_trim=function(){var t=this.getTitleValue("MODE"),t=Blockly.Python.text_trim.OPERATORS[t];return[(Blockly.Python.valueToCode(this,"TEXT",Blockly.Python.ORDER_MEMBER)||"''")+t,Blockly.Python.ORDER_MEMBER]},Blockly.Python.text_trim.OPERATORS={LEFT:".lstrip()",RIGHT:".rstrip()",BOTH:".strip()"},Blockly.Python.text_print=function(){return"print("+(Blockly.Python.valueToCode(this,"TEXT",Blockly.Python.ORDER_NONE)||"''")+")\n"},Blockly.Python.text_prompt=function(){var t=Blockly.Python.provideFunction_("text_prompt",["def "+Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(msg):","  try:","    return raw_input(msg)","  except NameError:","    return input(msg)"]),o=Blockly.Python.quote_(this.getTitleValue("TEXT")),t=t+"("+o+")";return"NUMBER"==this.getTitleValue("TYPE")&&(t="float("+t+")"),[t,Blockly.Python.ORDER_FUNCTION_CALL]},Blockly.Python.math={},Blockly.Python.addReservedWords("math,random"),Blockly.Python.math_number=function(){var t=window.parseFloat(this.getTitleValue("NUM"));return[t,0>t?Blockly.Python.ORDER_UNARY_SIGN:Blockly.Python.ORDER_ATOMIC]},Blockly.Python.math_arithmetic=function(){var t=this.getTitleValue("OP"),o=Blockly.Python.math_arithmetic.OPERATORS[t],t=o[0],o=o[1],e=Blockly.Python.valueToCode(this,"A",o)||"0",l=Blockly.Python.valueToCode(this,"B",o)||"0";return[e+t+l,o]},Blockly.Python.math_arithmetic.OPERATORS={ADD:[" + ",Blockly.Python.ORDER_ADDITIVE],MINUS:[" - ",Blockly.Python.ORDER_ADDITIVE],MULTIPLY:[" * ",Blockly.Python.ORDER_MULTIPLICATIVE],DIVIDE:[" / ",Blockly.Python.ORDER_MULTIPLICATIVE],POWER:[" ** ",Blockly.Python.ORDER_EXPONENTIATION]},Blockly.Python.math_single=function(){var t,o,e=this.getTitleValue("OP");if("NEG"==e)return t=Blockly.Python.valueToCode(this,"NUM",Blockly.Python.ORDER_UNARY_SIGN)||"0",["-"+t,Blockly.Python.ORDER_UNARY_SIGN];switch(Blockly.Python.definitions_.import_math="import math",o="SIN"==e||"COS"==e||"TAN"==e?Blockly.Python.valueToCode(this,"NUM",Blockly.Python.ORDER_MULTIPLICATIVE)||"0":Blockly.Python.valueToCode(this,"NUM",Blockly.Python.ORDER_NONE)||"0",e){case"ABS":t="math.fabs("+o+")";break;case"ROOT":t="math.sqrt("+o+")";break;case"LN":t="math.log("+o+")";break;case"LOG10":t="math.log10("+o+")";break;case"EXP":t="math.exp("+o+")";break;case"POW10":t="math.pow(10,"+o+")";break;case"ROUND":t="round("+o+")";break;case"ROUNDUP":t="math.ceil("+o+")";break;case"ROUNDDOWN":t="math.floor("+o+")";break;case"SIN":t="math.sin("+o+" / 180.0 * math.pi)";break;case"COS":t="math.cos("+o+" / 180.0 * math.pi)";break;case"TAN":t="math.tan("+o+" / 180.0 * math.pi)"}if(t)return[t,Blockly.Python.ORDER_FUNCTION_CALL];switch(e){case"ASIN":t="math.asin("+o+") / math.pi * 180";break;case"ACOS":t="math.acos("+o+") / math.pi * 180";break;case"ATAN":t="math.atan("+o+") / math.pi * 180";break;default:throw"Unknown math operator: "+e}return[t,Blockly.Python.ORDER_MULTIPLICATIVE]},Blockly.Python.math_constant=function(){var t=this.getTitleValue("CONSTANT");return"INFINITY"!=t&&(Blockly.Python.definitions_.import_math="import math"),Blockly.Python.math_constant.CONSTANTS[t]},Blockly.Python.math_constant.CONSTANTS={PI:["math.pi",Blockly.Python.ORDER_MEMBER],E:["math.e",Blockly.Python.ORDER_MEMBER],GOLDEN_RATIO:["(1 + math.sqrt(5)) / 2",Blockly.Python.ORDER_MULTIPLICATIVE],SQRT2:["math.sqrt(2)",Blockly.Python.ORDER_MEMBER],SQRT1_2:["math.sqrt(1.0 / 2)",Blockly.Python.ORDER_MEMBER],INFINITY:["float('inf')",Blockly.Python.ORDER_ATOMIC]},Blockly.Python.math_number_property=function(){var t=Blockly.Python.valueToCode(this,"NUMBER_TO_CHECK",Blockly.Python.ORDER_MULTIPLICATIVE);if(!t)return["False",Blockly.Python.ORDER_ATOMIC];var o,e=this.getTitleValue("PROPERTY");if("PRIME"==e)return Blockly.Python.definitions_.import_math="import math",o=Blockly.Python.provideFunction_("isPrime",["def "+Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(n):","  # http://en.wikipedia.org/wiki/Primality_test#Naive_methods","  # If n is not a number but a string, try parsing it.","  if type(n) not in (int, float, long):","    try:","      n = float(n)","    except:","      return False","  if n == 2 or n == 3:","    return True","  # False if n is negative, is 1, or not whole, or if n is divisible by 2 or 3.","  if n <= 1 or n % 1 != 0 or n % 2 == 0 or n % 3 == 0:","    return False","  # Check all the numbers of form 6k +/- 1, up to sqrt(n).","  for x in range(6, int(math.sqrt(n)) + 2, 6):","    if n % (x - 1) == 0 or n % (x + 1) == 0:","      return False","  return True"])+"("+t+")",[o,Blockly.Python.ORDER_FUNCTION_CALL];switch(e){case"EVEN":o=t+" % 2 == 0";break;case"ODD":o=t+" % 2 == 1";break;case"WHOLE":o=t+" % 1 == 0";break;case"POSITIVE":o=t+" > 0";break;case"NEGATIVE":o=t+" < 0";break;case"DIVISIBLE_BY":if(e=Blockly.Python.valueToCode(this,"DIVISOR",Blockly.Python.ORDER_MULTIPLICATIVE),!e||"0"==e)return["False",Blockly.Python.ORDER_ATOMIC];o=t+" % "+e+" == 0"}return[o,Blockly.Python.ORDER_RELATIONAL]},Blockly.Python.math_change=function(){var t=Blockly.Python.valueToCode(this,"DELTA",Blockly.Python.ORDER_ADDITIVE)||"0",o=Blockly.Python.variableDB_.getName(this.getTitleValue("VAR"),Blockly.Variables.NAME_TYPE);return o+" = ("+o+" if type("+o+") in (int, float, long) else 0) + "+t+"\n"},Blockly.Python.math_round=Blockly.Python.math_single,Blockly.Python.math_trig=Blockly.Python.math_single,Blockly.Python.math_on_list=function(){var t=this.getTitleValue("OP"),o=Blockly.Python.valueToCode(this,"LIST",Blockly.Python.ORDER_NONE)||"[]";switch(t){case"SUM":o="sum("+o+")";break;case"MIN":o="min("+o+")";break;case"MAX":o="max("+o+")";break;case"AVERAGE":t=Blockly.Python.provideFunction_("math_mean",["def "+Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(myList):","  localList = [e for e in myList if type(e) in (int, float, long)]","  if not localList: return","  return float(sum(localList)) / len(localList)"]),o=t+"("+o+")";break;case"MEDIAN":t=Blockly.Python.provideFunction_("math_median",["def "+Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(myList):","  localList = sorted([e for e in myList if type(e) in (int, float, long)])","  if not localList: return","  if len(localList) % 2 == 0:","    return (localList[len(localList) / 2 - 1] + localList[len(localList) / 2]) / 2.0","  else:","    return localList[(len(localList) - 1) / 2]"]),o=t+"("+o+")";break;case"MODE":t=Blockly.Python.provideFunction_("math_modes",["def "+Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(some_list):","  modes = []","  # Using a lists of [item, count] to keep count rather than dict",'  # to avoid "unhashable" errors when the counted item is itself a list or dict.',"  counts = []","  maxCount = 1","  for item in some_list:","    found = False","    for count in counts:","      if count[0] == item:","        count[1] += 1","        maxCount = max(maxCount, count[1])","        found = True","    if not found:","      counts.append([item, 1])","  for counted_item, item_count in counts:","    if item_count == maxCount:","      modes.append(counted_item)","  return modes"]),o=t+"("+o+")";break;case"STD_DEV":Blockly.Python.definitions_.import_math="import math",t=Blockly.Python.provideFunction_("math_standard_deviation",["def "+Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(numbers):","  n = len(numbers)","  if n == 0: return","  mean = float(sum(numbers)) / n","  variance = sum((x - mean) ** 2 for x in numbers) / n","  return math.sqrt(variance)"]),o=t+"("+o+")";break;case"RANDOM":Blockly.Python.definitions_.import_random="import random",o="random.choice("+o+")";break;default:throw"Unknown operator: "+t}return[o,Blockly.Python.ORDER_FUNCTION_CALL]},Blockly.Python.math_modulo=function(){var t=Blockly.Python.valueToCode(this,"DIVIDEND",Blockly.Python.ORDER_MULTIPLICATIVE)||"0",o=Blockly.Python.valueToCode(this,"DIVISOR",Blockly.Python.ORDER_MULTIPLICATIVE)||"0";return[t+" % "+o,Blockly.Python.ORDER_MULTIPLICATIVE]},Blockly.Python.math_constrain=function(){var t=Blockly.Python.valueToCode(this,"VALUE",Blockly.Python.ORDER_NONE)||"0",o=Blockly.Python.valueToCode(this,"LOW",Blockly.Python.ORDER_NONE)||"0",e=Blockly.Python.valueToCode(this,"HIGH",Blockly.Python.ORDER_NONE)||"float('inf')";return["min(max("+t+", "+o+"), "+e+")",Blockly.Python.ORDER_FUNCTION_CALL]
},Blockly.Python.math_random_int=function(){Blockly.Python.definitions_.import_random="import random";var t=Blockly.Python.valueToCode(this,"FROM",Blockly.Python.ORDER_NONE)||"0",o=Blockly.Python.valueToCode(this,"TO",Blockly.Python.ORDER_NONE)||"0";return["random.randint("+t+", "+o+")",Blockly.Python.ORDER_FUNCTION_CALL]},Blockly.Python.math_random_float=function(){return Blockly.Python.definitions_.import_random="import random",["random.random()",Blockly.Python.ORDER_FUNCTION_CALL]},Blockly.Python.lists={},Blockly.Python.lists_create_empty=function(){return["[]",Blockly.Python.ORDER_ATOMIC]},Blockly.Python.lists_create_with=function(){for(var t=Array(this.itemCount_),o=0;o<this.itemCount_;o++)t[o]=Blockly.Python.valueToCode(this,"ADD"+o,Blockly.Python.ORDER_NONE)||"None";return t="["+t.join(", ")+"]",[t,Blockly.Python.ORDER_ATOMIC]},Blockly.Python.lists_repeat=function(){var t=Blockly.Python.valueToCode(this,"ITEM",Blockly.Python.ORDER_NONE)||"None",o=Blockly.Python.valueToCode(this,"NUM",Blockly.Python.ORDER_MULTIPLICATIVE)||"0";return["["+t+"] * "+o,Blockly.Python.ORDER_MULTIPLICATIVE]},Blockly.Python.lists_length=function(){return["len("+(Blockly.Python.valueToCode(this,"VALUE",Blockly.Python.ORDER_NONE)||"[]")+")",Blockly.Python.ORDER_FUNCTION_CALL]},Blockly.Python.lists_isEmpty=function(){return["not len("+(Blockly.Python.valueToCode(this,"VALUE",Blockly.Python.ORDER_NONE)||"[]")+")",Blockly.Python.ORDER_LOGICAL_NOT]},Blockly.Python.lists_indexOf=function(){var t=Blockly.Python.valueToCode(this,"FIND",Blockly.Python.ORDER_NONE)||"[]",o=Blockly.Python.valueToCode(this,"VALUE",Blockly.Python.ORDER_MEMBER)||"''";return[("FIRST"==this.getTitleValue("END")?Blockly.Python.provideFunction_("first_index",["def "+Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(myList, elem):","  try: theIndex = myList.index(elem) + 1","  except: theIndex = 0","  return theIndex"]):Blockly.Python.provideFunction_("last_index",["def "+Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(myList, elem):","  try: theIndex = len(myList) - myList[::-1].index(elem)","  except: theIndex = 0","  return theIndex"]))+"("+o+", "+t+")",Blockly.Python.ORDER_MEMBER]},Blockly.Python.lists_getIndex=function(){var t=this.getTitleValue("MODE")||"GET",o=this.getTitleValue("WHERE")||"FROM_START",e=Blockly.Python.valueToCode(this,"AT",Blockly.Python.ORDER_UNARY_SIGN)||"1",l=Blockly.Python.valueToCode(this,"VALUE",Blockly.Python.ORDER_MEMBER)||"[]";if("FIRST"==o){if("GET"==t)return[l+"[0]",Blockly.Python.ORDER_MEMBER];if(o=l+".pop(0)","GET_REMOVE"==t)return[o,Blockly.Python.ORDER_FUNCTION_CALL];if("REMOVE"==t)return o+"\n"}else if("LAST"==o){if("GET"==t)return[l+"[-1]",Blockly.Python.ORDER_MEMBER];if(o=l+".pop()","GET_REMOVE"==t)return[o,Blockly.Python.ORDER_FUNCTION_CALL];if("REMOVE"==t)return o+"\n"}else if("FROM_START"==o){if(e=Blockly.isNumber(e)?parseInt(e,10)-1:"int("+e+" - 1)","GET"==t)return[l+"["+e+"]",Blockly.Python.ORDER_MEMBER];if(o=l+".pop("+e+")","GET_REMOVE"==t)return[o,Blockly.Python.ORDER_FUNCTION_CALL];if("REMOVE"==t)return o+"\n"}else if("FROM_END"==o){if("GET"==t)return[l+"[-"+e+"]",Blockly.Python.ORDER_MEMBER];if(o=l+".pop(-"+e+")","GET_REMOVE"==t)return[o,Blockly.Python.ORDER_FUNCTION_CALL];if("REMOVE"==t)return o+"\n"}else if("RANDOM"==o){if(Blockly.Python.definitions_.import_random="import random","GET"==t)return["random.choice("+l+")",Blockly.Python.ORDER_FUNCTION_CALL];if(o=Blockly.Python.provideFunction_("lists_remove_random_item",["def "+Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(myList):","  x = int(random.random() * len(myList))","  return myList.pop(x)"])+"("+l+")","GET"==t||"GET_REMOVE"==t)return[o,Blockly.Python.ORDER_FUNCTION_CALL];if("REMOVE"==t)return o+"\n"}throw"Unhandled combination (lists_getIndex)."},Blockly.Python.lists_setIndex=function(){var t=Blockly.Python.valueToCode(this,"LIST",Blockly.Python.ORDER_MEMBER)||"[]",o=this.getTitleValue("MODE")||"GET",e=this.getTitleValue("WHERE")||"FROM_START",l=Blockly.Python.valueToCode(this,"AT",Blockly.Python.ORDER_NONE)||"1",n=Blockly.Python.valueToCode(this,"TO",Blockly.Python.ORDER_NONE)||"None";if("FIRST"==e){if("SET"==o)return t+"[0] = "+n+"\n";if("INSERT"==o)return t+".insert(0, "+n+")\n"}else if("LAST"==e){if("SET"==o)return t+"[-1] = "+n+"\n";if("INSERT"==o)return t+".append("+n+")\n"}else if("FROM_START"==e){if(l=Blockly.isNumber(l)?parseInt(l,10)-1:"int("+l+" - 1)","SET"==o)return t+"["+l+"] = "+n+"\n";if("INSERT"==o)return t+".insert("+l+", "+n+")\n"}else if("FROM_END"==e){if("SET"==o)return t+"[-"+l+"] = "+n+"\n";if("INSERT"==o)return t+".insert(-"+l+", "+n+")\n"}else if("RANDOM"==e){if(Blockly.Python.definitions_.import_random="import random",t.match(/^\w+$/)?e="":(e=Blockly.Python.variableDB_.getDistinctName("tmp_list",Blockly.Variables.NAME_TYPE),l=e+" = "+t+"\n",t=e,e=l),l=Blockly.Python.variableDB_.getDistinctName("tmp_x",Blockly.Variables.NAME_TYPE),e+=l+" = int(random.random() * len("+t+"))\n","SET"==o)return e+(t+"["+l+"] = "+n+"\n");if("INSERT"==o)return e+=t+".insert("+l+", "+n+")\n"}throw"Unhandled combination (lists_setIndex)."},Blockly.Python.lists_getSublist=function(){var t=Blockly.Python.valueToCode(this,"LIST",Blockly.Python.ORDER_MEMBER)||"[]",o=this.getTitleValue("WHERE1"),e=this.getTitleValue("WHERE2"),l=Blockly.Python.valueToCode(this,"AT1",Blockly.Python.ORDER_ADDITIVE)||"1",n=Blockly.Python.valueToCode(this,"AT2",Blockly.Python.ORDER_ADDITIVE)||"1";return"FIRST"==o||"FROM_START"==o&&"1"==l?l="":"FROM_START"==o?l=Blockly.isNumber(l)?parseInt(l,10)-1:"int("+l+" - 1)":"FROM_END"==o&&(l=Blockly.isNumber(l)?-parseInt(l,10):"-int("+l+")"),"LAST"==e||"FROM_END"==e&&"1"==n?n="":"FROM_START"==o?n=Blockly.isNumber(n)?parseInt(n,10):"int("+n+")":"FROM_END"==o&&(Blockly.isNumber(n)?(n=1-parseInt(n,10),0==n&&(n="")):(Blockly.Python.definitions_.import_sys="import sys",n="int(1 - "+n+") or sys.maxsize")),[t+"["+l+" : "+n+"]",Blockly.Python.ORDER_MEMBER]},Blockly.Python.variables={},Blockly.Python.variables_get=function(){return[Blockly.Python.variableDB_.getName(this.getTitleValue("VAR"),Blockly.Variables.NAME_TYPE),Blockly.Python.ORDER_ATOMIC]},Blockly.Python.variables_set=function(){var t=Blockly.Python.valueToCode(this,"VALUE",Blockly.Python.ORDER_NONE)||"0";return Blockly.Python.variableDB_.getName(this.getTitleValue("VAR"),Blockly.Variables.NAME_TYPE)+" = "+t+"\n"};